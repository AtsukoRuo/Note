# Java 面向对象

在Java中**一切皆为对象**

[TOC]

## 初步

除基本类型外，Java中的对象都是通过**引用（reference）**来操作，例如

~~~java
Person person = new Person("AtsukoRuo", 18);
~~~

这里的`person`标识符实际上就是一个引用，它指向位于堆中的实际对象。



定义类

~~~java
class ClassName { }
~~~

通过new关键字创建该类的对象

~~~java
ClassName a = new ClassName();
~~~

当定义一个类时，你可以为其定义两种元素：**字段**（有时叫作“数据成员”）和**方法**（有时叫作“成员函数”）。

通过`.`操作符访问一个对象的字段或方法

~~~java
a.b = 10;
a.c();
~~~



直接访问属于本类的字段时，可以仅使用字段名，此时表示使用当前调用该方法对象（如果有的话）的字段。例如：

~~~java
class A {
	int a;
    void f()
    {
        a = 10;
        this.a = 10;	//等价的
    }
}
~~~

对于字段名，它与局部变量

## static

然而在两种情况下，这种这种只有通过对象调用方法的做法会显得不合时宜。

- 第一种情况是，有时候我们需要一小块共享空间来保存某个特定的字段，而并不关心创建多少个对象，甚至有没有创建对象。
- 第二种情况是，你需要使用一个类的某个方法，而该方法和具体的对象无关；换句话说，你希望即便没有生成任何该类的对象，依然可以调用其方法。生命周期持续到程序结束。



static关键字（源自 C++）为以上两个问题提供了解决方案。有些面向对象编程语言也会使用**“类数据”（class data）**和**“类方法”（class method）**来表示该数据或方法只服务于类，而非特定的对象。



> 注：我们平常说字段包括非static字段与static字段



访问一个对象的static字段或static方法

~~~java
A a = new A();
A.staticMethod();			//通过类名访问（推荐）
a.staticMethod();			//通过对象名访问
~~~



static字段是基于类创建的，而非static字段是基于对象创建的。因此**不可在static方法中直接访问非static字段以及非static方法**，但是在非static方法中**可以**直接访问static字段。



